# Rusty Raven的博客系统 - 用户操作指南

## 📖 目录
1. [访问管理后台](#访问管理后台)
2. [写文章功能](#写文章功能)
3. [上传文档](#上传文档)
4. [添加音乐](#添加音乐)
5. [添加视频](#添加视频)
6. [管理技能](#管理技能)
7. [更新简历](#更新简历)
8. [系统设置](#系统设置)

---

## 🔐 访问管理后台

### 三种隐秘访问方式：

1. **快速点击**：在首页 logo 区域快速点击 5 次
2. **键盘快捷键**：按 `Ctrl + Shift + A` + `D` + `M` + `I` + `N`
3. **直接URL访问**：在浏览器地址栏输入 `/admin` 或 `/secret-admin`

成功进入后，你会看到文章管理界面。

---

## ✍️ 写文章功能

### 1. 创建新文章
1. 进入管理后台
2. 点击「写新文章」按钮
3. 填写文章信息：
   - **标题**：文章标题
   - **摘要**：文章简介（显示在首页卡片）
   - **内容**：使用 Markdown 格式编写
   - **标签**：用逗号分隔多个标签
   - **作者**：默认为 Rusty Raven

### 2. 上传图片
- 直接将图片文件拖拽到上传区域
- 或点击上传区域选择文件
- 支持格式：JPG, PNG, GIF, WebP
- 图片会自动压缩和优化

### 3. 上传 Typst 文档
- 选择 `.typ` 或 `.pdf` 文件
- 文档会显示在文章内容中
- 支持预览和下载

### 4. 保存文章
- 点击「保存文章」按钮
- 文章会立即发布到首页和博客列表

---

## 📄 上传文档

### 当前支持的方式：

#### 方法一：在文章中嵌入（推荐）
1. 进入写文章界面
2. 使用 Typst 文档上传功能
3. 系统自动验证文件安全性
4. 自动编译生成PDF版本
5. 文档会作为文章的附件显示，支持源码和PDF双重查看

#### 方法二：直接文件管理（推荐扩展）
```
建议在 server/uploads/ 目录下创建以下子目录：
- documents/    # 存放各种文档
- presentations/ # 存放演示文稿
- pdfs/         # 存放 PDF 文件
```

### 扩展功能建议：
可以考虑在技能页面或简历页面添加文档下载链接：
```markdown
## 我的作品集
- [项目文档.pdf](链接地址)
- [技术总结.docx](链接地址)
```

---

## 🎵 添加音乐

### 当前音乐页面设置：

#### 方法一：修改音乐数据文件
1. 编辑 `client/src/pages/Music.tsx` 文件
2. 在 `musicItems` 数组中添加音乐：

```javascript
const musicItems = [
  {
    id: 1,
    title: "你的音乐标题",
    artist: "艺术家名称",
    album: "专辑名称",
    year: 2024,
    genre: "音乐类型",
    coverUrl: "/uploads/covers/封面图片.jpg", // 可选
    audioUrl: "音频文件链接或外部链接",
    description: "音乐描述"
  },
  // 添加更多音乐...
]
```

#### 方法二：外部链接
- **Spotify**：复制歌曲分享链接
- **Apple Music**：复制音乐分享链接
- **网易云音乐**：复制外链播放器代码
- **YouTube Music**：复制视频链接

#### 方法三：本地文件
1. 将音频文件放到 `server/uploads/music/` 目录
2. 在音乐列表中引用：`audioUrl: "/uploads/music/your-song.mp3"`

---

## 🎬 添加视频

### 当前视频页面设置：

#### 方法一：修改视频数据文件
编辑 `client/src/pages/Videos.tsx` 文件：

```javascript
const videoItems = [
  {
    id: 1,
    title: "视频标题",
    description: "视频描述",
    thumbnail: "/uploads/thumbnails/缩略图.jpg",
    videoUrl: "视频链接",
    duration: "10:30",
    category: "技术分享", // 或其他分类
    publishDate: "2024-01-01",
    tags: ["标签1", "标签2"]
  },
  // 添加更多视频...
]
```

#### 方法二：外部平台嵌入
- **YouTube**：
  ```html
  <iframe src="https://www.youtube.com/embed/VIDEO_ID"></iframe>
  ```
- **Bilibili**：
  ```html
  <iframe src="//player.bilibili.com/player.html?bvid=BV_ID"></iframe>
  ```
- **优酷、腾讯视频**：复制嵌入代码

#### 方法三：本地视频文件
1. 将视频文件放到 `server/uploads/videos/` 目录
2. 引用路径：`videoUrl: "/uploads/videos/your-video.mp4"`
3. 支持格式：MP4, WebM, MOV

---

## 🛠 管理技能

### 编辑技能页面：
1. 打开 `client/src/pages/Skills.tsx`
2. 修改 `skillCategories` 数组：

```javascript
const skillCategories = [
  {
    category: "编程语言",
    skills: [
      {
        name: "JavaScript",
        level: 90,  // 熟练度 0-100
        description: "精通前端开发",
        projects: ["项目1", "项目2"] // 可选
      },
      // 添加更多技能...
    ]
  },
  // 添加更多分类...
]
```

### 技能分类建议：
- 编程语言
- 前端技术
- 后端技术
- 数据库
- 开发工具
- 软技能

---

## 📋 更新简历

### 编辑简历页面：
打开 `client/src/pages/Resume.tsx` 并更新：

```javascript
// 个人信息
const personalInfo = {
  name: "你的姓名",
  title: "职位标题",
  email: "your@email.com",
  phone: "+86 138-0000-0000",
  location: "所在城市",
  website: "个人网站",
  summary: "个人简介..."
}

// 工作经历
const experiences = [
  {
    company: "公司名称",
    position: "职位",
    duration: "2020-2024",
    description: "工作描述...",
    achievements: ["成就1", "成就2"]
  }
]

// 教育背景
const education = [
  {
    school: "学校名称",
    degree: "学位",
    major: "专业",
    duration: "2016-2020",
    description: "相关描述"
  }
]
```

---

## ⚙️ 系统设置

### 语言切换
- 点击导航栏中的语言按钮
- 支持中文/English切换
- 所有界面元素都会切换

### 主题切换
- 点击导航栏中的主题按钮
- 支持浅色/深色模式
- 自动保存用户偏好

### 自定义设置
编辑 `client/src/contexts/LanguageContext.tsx` 来修改：
- 界面文字
- 个人信息（姓名、介绍等）
- 联系方式

---

## 🚀 快速开始建议

### 第一步：完善个人信息
1. 更新简历页面的个人信息
2. 上传个人头像到 `server/uploads/` 目录
3. 修改首页欢迎语

### 第二步：发布第一篇文章
1. 使用隐秘方式进入管理后台
2. 写一篇自我介绍的文章
3. 上传一些个人照片

### 第三步：完善作品展示
1. 在技能页面添加你的专业技能
2. 在视频页面分享你的作品演示
3. 在音乐页面分享你喜欢的音乐

### 第四步：定期更新
1. 定期发布新文章分享经验
2. 更新简历和作品集
3. 备份重要数据

---

## 🔧 技术支持

### 文件路径说明：
```
blog/
├── server/              # 后端服务
│   ├── uploads/        # 上传文件存储
│   └── data/           # 数据文件
├── client/             # 前端应用
│   └── src/
│       ├── pages/      # 页面组件
│       ├── components/ # 通用组件
│       └── contexts/   # 应用状态
└── 用户操作指南.md     # 本文档
```

### 常见问题：
1. **上传文件失败**：检查 `server/uploads` 目录权限
2. **无法访问管理后台**：尝试清除浏览器缓存
3. **图片不显示**：确认文件路径正确
4. **编译错误**：检查代码语法，重启开发服务器

### 联系方式：
如有问题，可以通过以下方式联系：
- 检查浏览器控制台错误信息
- 查看服务器日志
- 参考项目README.md文档

---

## 📝 更新日志

### 最新功能：
- ✅ 隐秘管理后台访问
- ✅ 文章编写和发布
- ✅ 图片和文档上传
- ✅ **Typst文档安全支持**（自动PDF编译、安全验证）
- ✅ 中英文双语支持
- ✅ 深浅色主题切换
- ✅ 响应式侧边导航
- ✅ 鼠标跟随效果
- ✅ 整卡点击交互
- ✅ **文件上传安全防护**（类型验证、内容检测、沙盒编译）

### 安全特性：
- 🛡️ 严格文件类型验证
- 🔒 Typst代码安全扫描
- ⏱️ 编译超时保护
- 📏 文件大小限制（5MB）
- 🚫 路径遍历防护

### 待扩展功能：
- 🔄 动态音乐和视频管理
- 🔄 评论系统
- 🔄 搜索功能
- 🔄 RSS订阅
- 🔄 数据统计
- 🔄 用户认证系统

---

*最后更新：2024年1月*
*系统版本：v1.0*